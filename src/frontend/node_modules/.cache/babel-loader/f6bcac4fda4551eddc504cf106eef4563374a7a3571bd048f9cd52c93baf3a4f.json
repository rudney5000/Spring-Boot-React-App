{"ast":null,"code":"import _slicedToArray from\"C:/Users/Dedy Rudney/Spring/full-stack-spring-boot-react/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Drawer,Input,Col,Select,Form,Row,Button,Spin}from'antd';import{addNewStudent}from\"./client\";import{LoadingOutlined}from\"@ant-design/icons\";import{useState}from'react';import{successNotification,errorNotification}from\"./Notification\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Option=Select.Option;var antIcon=/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:24},spin:true});function StudentDrawerForm(_ref){var showDrawer=_ref.showDrawer,setShowDrawer=_ref.setShowDrawer,fetchStudents=_ref.fetchStudents;var onCLose=function onCLose(){return setShowDrawer(false);};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),submitting=_useState2[0],setSubmitting=_useState2[1];var onFinish=function onFinish(student){setSubmitting(true);console.log(JSON.stringify(student,null,2));addNewStudent(student).then(function(){console.log(\"student added\");onCLose();successNotification(\"Student successfully added\",\"\".concat(student.name,\" was added to the system\"));fetchStudents();}).catch(function(err){console.log(err);//     err.response.json().then(res => {\n//         console.log(res);\n//         errorNotification(\n//             \"There was an issue\",\n//             `${res.message} [${res.status}] [${res.error}]`,\n//             \"bottomLeft\"\n//         )\n//     });\n}).finally(function(){setSubmitting(false);});};var onFinishFailed=function onFinishFailed(errorInfo){alert(JSON.stringify(errorInfo,null,2));};return/*#__PURE__*/_jsx(Drawer,{title:\"Create new student\",width:720,onClose:onCLose,visible:showDrawer,bodyStyle:{paddingBottom:80},footer:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsx(Button,{onClick:onCLose,style:{marginRight:8},children:\"Cancel\"})}),children:/*#__PURE__*/_jsxs(Form,{layout:\"vertical\",onFinishFailed:onFinishFailed,onFinish:onFinish,hideRequiredMark:true,children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"name\",label:\"Name\",rules:[{required:true,message:'Please enter student name'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"Please enter student name\"})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"email\",label:\"Email\",rules:[{required:true,message:'Please enter student email'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"Please enter student email\"})})})]}),/*#__PURE__*/_jsx(Row,{gutter:16,children:/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{name:\"gender\",label:\"gender\",rules:[{required:true,message:'Please select a gender'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Please select a gender\",children:[/*#__PURE__*/_jsx(Option,{value:\"MALE\",children:\"MALE\"}),/*#__PURE__*/_jsx(Option,{value:\"FEMALE\",children:\"FEMALE\"}),/*#__PURE__*/_jsx(Option,{value:\"OTHER\",children:\"OTHER\"})]})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Submit\"})})})}),/*#__PURE__*/_jsx(Row,{children:submitting&&/*#__PURE__*/_jsx(Spin,{indicator:antIcon})})]})});}export default StudentDrawerForm;","map":{"version":3,"names":["Drawer","Input","Col","Select","Form","Row","Button","Spin","addNewStudent","LoadingOutlined","useState","successNotification","errorNotification","Option","antIcon","fontSize","StudentDrawerForm","showDrawer","setShowDrawer","fetchStudents","onCLose","submitting","setSubmitting","onFinish","student","console","log","JSON","stringify","then","name","catch","err","finally","onFinishFailed","errorInfo","alert","paddingBottom","textAlign","marginRight","required","message"],"sources":["C:/Users/Dedy Rudney/Spring/full-stack-spring-boot-react/src/frontend/src/StudentDrawerForm.js"],"sourcesContent":["import {Drawer, Input, Col, Select, Form, Row, Button, Spin} from 'antd';\r\nimport {addNewStudent} from \"./client\";\r\nimport {LoadingOutlined} from \"@ant-design/icons\";\r\nimport {useState} from 'react';\r\nimport {successNotification, errorNotification} from \"./Notification\";\r\n\r\nconst {Option} = Select;\r\n\r\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\r\n\r\nfunction StudentDrawerForm({showDrawer, setShowDrawer, fetchStudents}) {\r\n    const onCLose = () => setShowDrawer(false);\r\n    const [submitting, setSubmitting] = useState(false);\r\n\r\n    const onFinish = student => {\r\n        setSubmitting(true)\r\n        console.log(JSON.stringify(student, null, 2));\r\n        addNewStudent(student)\r\n            .then(() => {\r\n                console.log(\"student added\")\r\n                onCLose();\r\n                successNotification(\r\n                    \"Student successfully added\",\r\n                    `${student.name} was added to the system`\r\n                )\r\n                fetchStudents();\r\n            }).catch(err => {\r\n            console.log(err);\r\n        //     err.response.json().then(res => {\r\n        //         console.log(res);\r\n        //         errorNotification(\r\n        //             \"There was an issue\",\r\n        //             `${res.message} [${res.status}] [${res.error}]`,\r\n        //             \"bottomLeft\"\r\n        //         )\r\n        //     });\r\n        }).finally(() => {\r\n            setSubmitting(false);\r\n        })\r\n    };\r\n\r\n    const onFinishFailed = errorInfo => {\r\n        alert(JSON.stringify(errorInfo, null, 2));\r\n    };\r\n\r\n    return <Drawer\r\n        title=\"Create new student\"\r\n        width={720}\r\n        onClose={onCLose}\r\n        visible={showDrawer}\r\n        bodyStyle={{paddingBottom: 80}}\r\n        footer={\r\n            <div\r\n                style={{\r\n                    textAlign: 'right',\r\n                }}\r\n            >\r\n                <Button onClick={onCLose} style={{marginRight: 8}}>\r\n                    Cancel\r\n                </Button>\r\n            </div>\r\n        }\r\n    >\r\n        <Form layout=\"vertical\"\r\n              onFinishFailed={onFinishFailed}\r\n              onFinish={onFinish}\r\n              hideRequiredMark>\r\n            <Row gutter={16}>\r\n                <Col span={12}>\r\n                    <Form.Item\r\n                        name=\"name\"\r\n                        label=\"Name\"\r\n                        rules={[{required: true, message: 'Please enter student name'}]}\r\n                    >\r\n                        <Input placeholder=\"Please enter student name\"/>\r\n                    </Form.Item>\r\n                </Col>\r\n                <Col span={12}>\r\n                    <Form.Item\r\n                        name=\"email\"\r\n                        label=\"Email\"\r\n                        rules={[{required: true, message: 'Please enter student email'}]}\r\n                    >\r\n                        <Input placeholder=\"Please enter student email\"/>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={16}>\r\n                <Col span={12}>\r\n                    <Form.Item\r\n                        name=\"gender\"\r\n                        label=\"gender\"\r\n                        rules={[{required: true, message: 'Please select a gender'}]}\r\n                    >\r\n                        <Select placeholder=\"Please select a gender\">\r\n                            <Option value=\"MALE\">MALE</Option>\r\n                            <Option value=\"FEMALE\">FEMALE</Option>\r\n                            <Option value=\"OTHER\">OTHER</Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col span={12}>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                {submitting && <Spin indicator={antIcon} />}\r\n            </Row>\r\n        </Form>\r\n    </Drawer>\r\n}\r\n\r\nexport default StudentDrawerForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}